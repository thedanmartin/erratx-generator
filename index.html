
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Erratx Generator</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/errata.css">
</head>

<body>

<div class="container">

    <p class="def">
        <span class="bold">er·ra·tum</span> <span>/eˈrädəm/</span><br>
        (noun) an error in printing or writing
    </p>

    <div class="user-inputs">
        name: <input type="text" id="username" placeholder="name"></label><br>
        <label>Enter a date: <input type="text" id="date" placeholder="date"></label><br>
        <label>Enter a journal name: <input type="text" id="journal" placeholder="journal name"></label>
    </div>

    <div class="buttondiv"><button class="button">generate erratx</button></div>

    <h1 class="title"></h1>

    <p class="text">
        <span class="intro"></span>
        <span class="two"></span>
        <span class="three"></span>
        <span class="four"></span>
        <span class="five"></span>
    </p>

    <footer><a href="http://danmartin.net/">danmartin.net</a></footer>

</div>

<script>
document.addEventListener("DOMContentLoaded", () => {

    const title = ["Corrigendum", "Erratum", "Erratum.", "Erratum—", "Erratum:", "ERRATUM", "ERRATUM.", "ERRATUM—", "ERRATUM:"];
    const two = ["A statement was misconstrued.", "A sentence was inadvertently set incorrectly.", "A misprint occurs.", "The author was improperly featured in the list of contributors.", "The image of the figure was incorrect.", "Several estimates are incorrectly presented as positive.", "There is a typographical mistake.", "The legends for figures are incorrect.", "A line was misplaced.", "An author's acknowledgement was inadvertently omitted.", "An accidental exchange of figures occurred.", "A figure was published with an incorrect scale bar.", "A misunderstanding has led to a a serious mistake.", "A mistake occurred in the pagination so that both previous issues began on page 169.", "The prizes listed were the 1992 prizes, not the 1991 prizes.", "The note of acknowledgement was inadvertently omitted.", "The article was incorrectly titled due to a typist error in the last stages of production."];
    const three = ["The publisher recognizes the seriouness of this situation.", "Responsibility for this unfortunate mistake rests with the editorial office.", "The journal acknowledges the confusion this may have caused.", "We were surprised and disappointed to discover that this piece led us to inadvertently act in contradiction to our own editorial policy.", "Through a slip of the pen, the editor introduced the flaw."];
    const four = ["Your editor asks forgiveness.", "The Press regrets the error.", "The editors extend apologies.", "Both the reviewer and the editor deeply regret the error.", "We deeply regret this error and extend our heartfelt apologies.", "Our sincere apologies.", "The editors take full responsibility.", "The journal appreciates the author's contributions to the preparation of this article and regrets the error.", "We apologize for any inconvenience that this error has caused the authors and our readers.", "An error was made in the editorial office, we apologize to all authors concerned."];
    const five = ["Hopefully, we can move beyond this regrettable oversight.", "The Reader will note this change and insert the correction.", "In the future, we will do better.", "We are grateful for the opportunity to make this correction.", "Readers are begged to correct their copies accordingly.", "Occasionally in the research process errors are made."]; 
    
    const getRandomItem = (arr) => arr[Math.floor(Math.random() * arr.length)];

    document.querySelector(".button").addEventListener("click", () => {

        const name = document.getElementById("username").value || "the author";
        const date = document.getElementById("date").value || "a recent";
        const journal = document.getElementById("journal").value || "the journal";

        const introSentence =
            `In the ${date} issue of ${journal}, the paper by ${name} contained errors. `;

        const titleEl = document.querySelector(".title");
        titleEl.innerHTML = getRandomItem(title);

        const cellWidth = titleEl.parentElement.offsetWidth;
        const maxShift = cellWidth / 2;
        const randomShift = Math.random() * maxShift;
        titleEl.style.left = `${randomShift}px`;

        document.querySelector(".intro").innerHTML = introSentence;
        document.querySelector(".two").innerHTML = getRandomItem(two);
        document.querySelector(".three").innerHTML = getRandomItem(three);
        document.querySelector(".four").innerHTML = getRandomItem(four);
        document.querySelector(".five").innerHTML = getRandomItem(five);
    });
});
</script>

</body>
</html>
